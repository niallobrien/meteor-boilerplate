{"version":3,"sources":["meteor://ðŸ’»app/packages/meteortoys_autopub/packages/meteortoys_autopub.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qH","file":"/packages/meteortoys_autopub.js","sourcesContent":["(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/meteortoys:autopub/client/template.main.js                                                   //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n                                                                                                         // 1\nTemplate.__checkName(\"MeteorToys_autopub\");                                                              // 2\nTemplate[\"MeteorToys_autopub\"] = new Template(\"Template.MeteorToys_autopub\", (function() {               // 3\n  var view = this;                                                                                       // 4\n  return HTML.DIV({                                                                                      // 5\n    \"class\": function() {                                                                                // 6\n      return [ \"MeteorToys_orb MeteorToys_button \", Spacebars.mustache(view.lookup(\"autopub_state\")) ];  // 7\n    },                                                                                                   // 8\n    id: \"MeteorToys_autopub\",                                                                            // 9\n    oncontextmenu: \"return false;\"                                                                       // 10\n  }, HTML.Raw('\t\\n\t\t<div class=\"MeteorToys_icon\"></div>\\n\t\t<div class=\"MeteorToys_wrapper\"></div>\\n\t')); // 11\n}));                                                                                                     // 12\n                                                                                                         // 13\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/meteortoys:autopub/client/main.js                                                            //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n// Initialize Reactive-Dict                                                                              // 1\nMeteorToysDict = Package[\"meteortoys:toykit\"].MeteorToysDict;                                            // 2\n                                                                                                         // 3\n                                                                                                         // 4\n// Check for the document                                                                                // 5\nTracker.autorun(function() {                                                                             // 6\n\tif (Package['meteortoys:toykit'].MeteorToysData[\"AutoPub\"].find().count() === 1) {                      // 7\n\t\tMeteorToysDict.set(\"MeteorToys_autopublish_persistent\", true);                                         // 8\n\t} else {                                                                                                // 9\n\t\tMeteorToysDict.set(\"MeteorToys_autopublish_persistent\", false);                                        // 10\n\t}                                                                                                       // 11\n});                                                                                                      // 12\n                                                                                                         // 13\n// Tracker for Subscription parameter                                                                    // 14\nTracker.autorun(function() {                                                                             // 15\n\tvar persistent = MeteorToysDict.get(\"MeteorToys_autopublish_persistent\");                               // 16\n\tvar isolated   = MeteorToysDict.get(\"MeteorToys_autopublish_isolated\");                                 // 17\n\t// console.log(\"X\");                                                                                    // 18\n\t// console.log(\"P\" + persistent);                                                                       // 19\n\t// console.log(\"I\" + isolated);                                                                         // 20\n                                                                                                         // 21\n\tif (persistent) {                                                                                       // 22\n\t\tMeteorToysDict.set(\"MeteorToys_autopublish\", true);                                                    // 23\n                                                                                                         // 24\n\t} else {                                                                                                // 25\n                                                                                                         // 26\n\t\tif (isolated) {                                                                                        // 27\n\t\t\tMeteorToysDict.set(\"MeteorToys_autopublish\", true);                                                   // 28\n                                                                                                         // 29\n\t\t} else {                                                                                               // 30\n\t\t\tMeteorToysDict.set(\"MeteorToys_autopublish\", false);                                                  // 31\n                                                                                                         // 32\n\t\t}                                                                                                      // 33\n                                                                                                         // 34\n\t}                                                                                                       // 35\n                                                                                                         // 36\n\t// }                                                                                                    // 37\n\t// console.log('yo');                                                                                   // 38\n                                                                                                         // 39\n})                                                                                                       // 40\n                                                                                                         // 41\n//                                                                                                       // 42\nTemplate.MeteorToys_autopub.events({                                                                     // 43\n\t'click': function (e, t) {                                                                              // 44\n                                                                                                         // 45\n \t\tif (e.ctrlKey || e.metaKey || e.shiftKey) {                                                           // 46\n                                                                                                         // 47\n\t\t\t//                                                                                                    // 48\n\t\t\t\tMeteor.call(\"MeteorToys_autopub\", function(e,r) {                                                    // 49\n\t\t\t\t\tif (e) {                                                                                            // 50\n\t\t\t\t\t\talert(\"There has been an error enabling persistent AutoPub.\")                                      // 51\n\t\t\t\t\t}                                                                                                   // 52\n\t\t\t\t});                                                                                                  // 53\n\t\t\t//                                                                                                    // 54\n\t\t} else {                                                                                               // 55\n\t\t\t//                                                                                                    // 56\n\t\t\t\tif (MeteorToysDict.get(\"MeteorToys_autopublish_isolated\")) {                                         // 57\n\t\t\t\t\tMeteorToysDict.set(\"MeteorToys_autopublish_isolated\", false);                                       // 58\n\t\t\t\t} else {                                                                                             // 59\n\t\t\t\t\tMeteorToysDict.set(\"MeteorToys_autopublish_isolated\", true);                                        // 60\n\t\t\t\t}                                                                                                    // 61\n\t\t\t//                                                                                                    // 62\n\t\t}                                                                                                      // 63\n                                                                                                         // 64\n\t}                                                                                                       // 65\n});                                                                                                      // 66\n                                                                                                         // 67\n                                                                                                         // 68\nTemplate.MeteorToys_autopub.helpers({                                                                    // 69\n  autopub_state: function () {                                                                           // 70\n                                                                                                         // 71\n\t\tif (MeteorToysDict.get(\"MeteorToys_autopublish_persistent\")) {                                         // 72\n\t\t\treturn \"MeteorToys_AutoPub_persistent\";                                                               // 73\n\t\t} else {                                                                                               // 74\n\t\t\t\tif (MeteorToysDict.get(\"MeteorToys_autopublish_isolated\")) {                                         // 75\n\t\t\t\t\treturn \"MeteorToys_AutoPub_active\";                                                                 // 76\n\t\t\t\t} else {                                                                                             // 77\n\t\t\t\t\t\treturn \"MeteorToys_AutoPub\"                                                                        // 78\n\t\t\t\t}                                                                                                    // 79\n\t\t}                                                                                                      // 80\n                                                                                                         // 81\n  }                                                                                                      // 82\n});                                                                                                      // 83\n                                                                                                         // 84\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/meteortoys:autopub/config/config.js                                                          //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n// Meteor.startup(function() {                                                                           // 1\n\t                                                                                                        // 2\n// \tMeteorToys.registerPackage({                                                                         // 3\n// \t\t\"name\": \"PubSub\",                                                                                   // 4\n// \t\t\"version\": \"0.1.0\",                                                                                 // 5\n// \t\t\"template\": \"MeteorToys_pubsub\"                                                                     // 6\n// \t})                                                                                                   // 7\n                                                                                                         // 8\n// });                                                                                                   // 9\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}