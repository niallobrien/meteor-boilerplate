{"version":3,"sources":["meteor://ðŸ’»app/packages/mizzao_timesync/packages/mizzao_timesync.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2F","file":"/packages/mizzao_timesync.js","sourcesContent":["(function () {\n\n//////////////////////////////////////////////////////////////////////////////////\n//                                                                              //\n// packages/mizzao:timesync/timesync-server.js                                  //\n//                                                                              //\n//////////////////////////////////////////////////////////////////////////////////\n                                                                                //\n// Use rawConnectHandlers so we get a response as quickly as possible           // 1\n// https://github.com/meteor/meteor/blob/devel/packages/webapp/webapp_server.js // 2\n                                                                                // 3\nWebApp.rawConnectHandlers.use(\"/_timesync\",                                     // 4\n  function(req, res, next) {                                                    // 5\n    // Never ever cache this, otherwise weird times are shown on reload         // 6\n    // http://stackoverflow.com/q/18811286/586086                               // 7\n    res.setHeader(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");      // 8\n    res.setHeader(\"Pragma\", \"no-cache\");                                        // 9\n    res.setHeader(\"Expires\", 0);                                                // 10\n                                                                                // 11\n    // Avoid MIME type warnings in browsers                                     // 12\n    res.setHeader(\"Content-Type\", \"text/plain\");                                // 13\n                                                                                // 14\n    // Cordova lives in meteor.local, so it does CORS                           // 15\n    if (req.headers && req.headers.origin === 'http://meteor.local') {          // 16\n      res.setHeader('Access-Control-Allow-Origin', 'http://meteor.local');      // 17\n    }                                                                           // 18\n                                                                                // 19\n    res.end(Date.now().toString());                                             // 20\n  }                                                                             // 21\n);                                                                              // 22\n                                                                                // 23\n//////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}